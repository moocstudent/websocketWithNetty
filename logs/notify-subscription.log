2022-03-07 13:48:56,115 - 正在启动websocket服务器
2022-03-07 13:48:56,137 - Using Log4J as the default logging framework
2022-03-07 13:48:56,146 - -Dio.netty.eventLoopThreads: 16
2022-03-07 13:48:56,188 - java.nio.Buffer.address: available
2022-03-07 13:48:56,189 - sun.misc.Unsafe.theUnsafe: available
2022-03-07 13:48:56,190 - sun.misc.Unsafe.copyMemory: available
2022-03-07 13:48:56,191 - direct buffer constructor: available
2022-03-07 13:48:56,192 - java.nio.Bits.unaligned: available, true
2022-03-07 13:48:56,192 - java.nio.DirectByteBuffer.<init>(long, int): available
2022-03-07 13:48:56,195 - java.nio.ByteBuffer.cleaner(): available
2022-03-07 13:48:56,195 - Platform: Windows
2022-03-07 13:48:56,196 - Java version: 8
2022-03-07 13:48:56,196 - -Dio.netty.noUnsafe: false
2022-03-07 13:48:56,196 - sun.misc.Unsafe: available
2022-03-07 13:48:56,196 - -Dio.netty.noJavassist: false
2022-03-07 13:48:56,197 - Javassist: unavailable
2022-03-07 13:48:56,197 - You don't have Javassist in your class path or you don't have enough permission to load dynamically generated classes.  Please check the configuration for better performance.
2022-03-07 13:48:56,198 - -Dio.netty.tmpdir: C:\Users\ADMINI~1\AppData\Local\Temp (java.io.tmpdir)
2022-03-07 13:48:56,198 - -Dio.netty.bitMode: 64 (sun.arch.data.model)
2022-03-07 13:48:56,199 - -Dio.netty.noPreferDirect: false
2022-03-07 13:48:56,199 - io.netty.maxDirectMemory: 3791650816 bytes
2022-03-07 13:48:56,235 - -Dio.netty.noKeySetOptimization: false
2022-03-07 13:48:56,235 - -Dio.netty.selectorAutoRebuildThreshold: 512
2022-03-07 13:48:56,238 - org.jctools-core.MpscChunkedArrayQueue: available
2022-03-07 13:48:58,391 - -Dio.netty.processId: 31860 (auto-detected)
2022-03-07 13:48:58,392 - -Djava.net.preferIPv4Stack: false
2022-03-07 13:48:58,392 - -Djava.net.preferIPv6Addresses: false
2022-03-07 13:49:00,309 - Loopback interface: lo (Software Loopback Interface 1, 127.0.0.1)
2022-03-07 13:49:00,310 - \proc\sys\net\core\somaxconn: 200 (non-existent)
2022-03-07 13:49:02,157 - -Dio.netty.machineId: 00:50:56:ff:fe:c0:00:08 (auto-detected)
2022-03-07 13:49:02,165 - -Dio.netty.initialSeedUniquifier: 0xe0eb0af9d733d968
2022-03-07 13:49:02,183 - -Dio.netty.leakDetection.level: simple
2022-03-07 13:49:02,184 - -Dio.netty.leakDetection.maxRecords: 4
2022-03-07 13:49:02,221 - -Dio.netty.allocator.numHeapArenas: 16
2022-03-07 13:49:02,222 - -Dio.netty.allocator.numDirectArenas: 16
2022-03-07 13:49:02,222 - -Dio.netty.allocator.pageSize: 8192
2022-03-07 13:49:02,222 - -Dio.netty.allocator.maxOrder: 11
2022-03-07 13:49:02,222 - -Dio.netty.allocator.chunkSize: 16777216
2022-03-07 13:49:02,222 - -Dio.netty.allocator.tinyCacheSize: 512
2022-03-07 13:49:02,222 - -Dio.netty.allocator.smallCacheSize: 256
2022-03-07 13:49:02,223 - -Dio.netty.allocator.normalCacheSize: 64
2022-03-07 13:49:02,223 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
2022-03-07 13:49:02,223 - -Dio.netty.allocator.cacheTrimInterval: 8192
2022-03-07 13:49:02,235 - -Dio.netty.allocator.type: pooled
2022-03-07 13:49:02,236 - -Dio.netty.threadLocalDirectBufferSize: 65536
2022-03-07 13:49:02,236 - -Dio.netty.maxThreadLocalCharBufferSize: 16384
2022-03-07 13:49:02,259 - [id: 0x7a3cfa82] REGISTERED
2022-03-07 13:49:02,261 - [id: 0x7a3cfa82] BIND: 0.0.0.0/0.0.0.0:8081
2022-03-07 13:49:02,263 - webSocket服务器启动成功：[id: 0x7a3cfa82, L:/0:0:0:0:0:0:0:0:8081]
2022-03-07 13:49:02,264 - [id: 0x7a3cfa82, L:/0:0:0:0:0:0:0:0:8081] ACTIVE
2022-03-07 13:49:54,408 - [id: 0x7a3cfa82, L:/0:0:0:0:0:0:0:0:8081] RECEIVED: [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175]
2022-03-07 13:49:54,455 - -Dio.netty.buffer.bytebuf.checkAccessible: true
2022-03-07 13:49:54,459 - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@69445185
2022-03-07 13:49:54,511 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] REGISTERED
2022-03-07 13:49:54,513 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] ACTIVE
2022-03-07 13:49:54,513 - 客户端加入连接：[id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175]
2022-03-07 13:49:54,526 - -Dio.netty.recycler.maxCapacityPerThread: 32768
2022-03-07 13:49:54,526 - -Dio.netty.recycler.maxSharedCapacityFactor: 2
2022-03-07 13:49:54,526 - -Dio.netty.recycler.linkCapacity: 16
2022-03-07 13:49:54,526 - -Dio.netty.recycler.ratio: 8
2022-03-07 13:49:54,540 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] RECEIVED: 597B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 47 45 54 20 2f 77 65 62 73 6f 63 6b 65 74 20 48 |GET /websocket H|
|00000010| 54 54 50 2f 31 2e 31 0d 0a 48 6f 73 74 3a 20 6c |TTP/1.1..Host: l|
|00000020| 6f 63 61 6c 68 6f 73 74 3a 38 30 38 31 0d 0a 43 |ocalhost:8081..C|
|00000030| 6f 6e 6e 65 63 74 69 6f 6e 3a 20 55 70 67 72 61 |onnection: Upgra|
|00000040| 64 65 0d 0a 50 72 61 67 6d 61 3a 20 6e 6f 2d 63 |de..Pragma: no-c|
|00000050| 61 63 68 65 0d 0a 43 61 63 68 65 2d 43 6f 6e 74 |ache..Cache-Cont|
|00000060| 72 6f 6c 3a 20 6e 6f 2d 63 61 63 68 65 0d 0a 55 |rol: no-cache..U|
|00000070| 73 65 72 2d 41 67 65 6e 74 3a 20 4d 6f 7a 69 6c |ser-Agent: Mozil|
|00000080| 6c 61 2f 35 2e 30 20 28 57 69 6e 64 6f 77 73 20 |la/5.0 (Windows |
|00000090| 4e 54 20 31 30 2e 30 3b 20 57 69 6e 36 34 3b 20 |NT 10.0; Win64; |
|000000a0| 78 36 34 29 20 41 70 70 6c 65 57 65 62 4b 69 74 |x64) AppleWebKit|
|000000b0| 2f 35 33 37 2e 33 36 20 28 4b 48 54 4d 4c 2c 20 |/537.36 (KHTML, |
|000000c0| 6c 69 6b 65 20 47 65 63 6b 6f 29 20 43 68 72 6f |like Gecko) Chro|
|000000d0| 6d 65 2f 39 39 2e 30 2e 34 38 34 34 2e 35 31 20 |me/99.0.4844.51 |
|000000e0| 53 61 66 61 72 69 2f 35 33 37 2e 33 36 0d 0a 55 |Safari/537.36..U|
|000000f0| 70 67 72 61 64 65 3a 20 77 65 62 73 6f 63 6b 65 |pgrade: websocke|
|00000100| 74 0d 0a 4f 72 69 67 69 6e 3a 20 68 74 74 70 3a |t..Origin: http:|
|00000110| 2f 2f 6c 6f 63 61 6c 68 6f 73 74 3a 36 33 33 34 |//localhost:6334|
|00000120| 32 0d 0a 53 65 63 2d 57 65 62 53 6f 63 6b 65 74 |2..Sec-WebSocket|
|00000130| 2d 56 65 72 73 69 6f 6e 3a 20 31 33 0d 0a 41 63 |-Version: 13..Ac|
|00000140| 63 65 70 74 2d 45 6e 63 6f 64 69 6e 67 3a 20 67 |cept-Encoding: g|
|00000150| 7a 69 70 2c 20 64 65 66 6c 61 74 65 2c 20 62 72 |zip, deflate, br|
|00000160| 0d 0a 41 63 63 65 70 74 2d 4c 61 6e 67 75 61 67 |..Accept-Languag|
|00000170| 65 3a 20 7a 68 2d 43 4e 2c 7a 68 3b 71 3d 30 2e |e: zh-CN,zh;q=0.|
|00000180| 39 0d 0a 43 6f 6f 6b 69 65 3a 20 5f 67 61 3d 47 |9..Cookie: _ga=G|
|00000190| 41 31 2e 31 2e 31 39 39 35 32 35 32 31 35 39 2e |A1.1.1995252159.|
|000001a0| 31 36 34 36 33 38 33 37 35 36 3b 20 49 64 65 61 |1646383756; Idea|
|000001b0| 2d 38 32 39 36 65 37 36 66 3d 35 33 61 65 32 37 |-8296e76f=53ae27|
|000001c0| 66 38 2d 34 30 61 34 2d 34 39 62 30 2d 61 31 66 |f8-40a4-49b0-a1f|
|000001d0| 64 2d 66 36 34 36 64 62 39 66 37 31 35 30 0d 0a |d-f646db9f7150..|
|000001e0| 53 65 63 2d 57 65 62 53 6f 63 6b 65 74 2d 4b 65 |Sec-WebSocket-Ke|
|000001f0| 79 3a 20 44 73 65 2f 49 37 42 70 69 4a 46 44 2b |y: Dse/I7BpiJFD+|
|00000200| 51 6c 76 64 51 30 65 66 77 3d 3d 0d 0a 53 65 63 |QlvdQ0efw==..Sec|
|00000210| 2d 57 65 62 53 6f 63 6b 65 74 2d 45 78 74 65 6e |-WebSocket-Exten|
|00000220| 73 69 6f 6e 73 3a 20 70 65 72 6d 65 73 73 61 67 |sions: permessag|
|00000230| 65 2d 64 65 66 6c 61 74 65 3b 20 63 6c 69 65 6e |e-deflate; clien|
|00000240| 74 5f 6d 61 78 5f 77 69 6e 64 6f 77 5f 62 69 74 |t_max_window_bit|
|00000250| 73 0d 0a 0d 0a                                  |s....           |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:49:54,712 - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket HTTP/1.1
Host: localhost:8081
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36
Upgrade: websocket
Origin: http://localhost:63342
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Cookie: _ga=GA1.1.1995252159.1646383756; Idea-8296e76f=53ae27f8-40a4-49b0-a1fd-f646db9f7150
Sec-WebSocket-Key: Dse/I7BpiJFD+QlvdQ0efw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
2022-03-07 13:49:54,713 - channelRead0 FullHttpRequest
2022-03-07 13:49:54,724 - handshaker:io.netty.handler.codec.http.websocketx.WebSocketServerHandshaker13@10b2c32c
2022-03-07 13:49:54,724 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] WebSocket version V13 server handshake
2022-03-07 13:49:54,734 - WebSocket version 13 server handshake key: Dse/I7BpiJFD+QlvdQ0efw==, response: FmiAntfr1WYrMmjZAR9I2GcaERs=
2022-03-07 13:49:54,746 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] WRITE: 129B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 54 54 50 2f 31 2e 31 20 31 30 31 20 53 77 69 |HTTP/1.1 101 Swi|
|00000010| 74 63 68 69 6e 67 20 50 72 6f 74 6f 63 6f 6c 73 |tching Protocols|
|00000020| 0d 0a 75 70 67 72 61 64 65 3a 20 77 65 62 73 6f |..upgrade: webso|
|00000030| 63 6b 65 74 0d 0a 63 6f 6e 6e 65 63 74 69 6f 6e |cket..connection|
|00000040| 3a 20 75 70 67 72 61 64 65 0d 0a 73 65 63 2d 77 |: upgrade..sec-w|
|00000050| 65 62 73 6f 63 6b 65 74 2d 61 63 63 65 70 74 3a |ebsocket-accept:|
|00000060| 20 46 6d 69 41 6e 74 66 72 31 57 59 72 4d 6d 6a | FmiAntfr1WYrMmj|
|00000070| 5a 41 52 39 49 32 47 63 61 45 52 73 3d 0d 0a 0d |ZAR9I2GcaERs=...|
|00000080| 0a                                              |.               |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:49:54,747 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] FLUSH
2022-03-07 13:49:54,750 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] FLUSH
2022-03-07 13:49:54,760 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] RECEIVED: 24B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 81 92 4f 58 f9 6d a8 cc 4c 88 e2 c8 1e ca eb be |..OX.m..L.......|
|00000010| 59 ea a7 f7 7f 5c 7d 6b                         |Y....\}k        |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:49:54,761 - Decoding WebSocket Frame opCode=1
2022-03-07 13:49:54,761 - Decoding WebSocket Frame length=18
2022-03-07 13:49:54,763 - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 18, cap: 18))
2022-03-07 13:49:54,764 - channelRead0 WebSocketFrame
2022-03-07 13:49:54,766 - 服务端收到：电子秤标识123
2022-03-07 13:49:54,774 - Encoding WebSocket Frame opCode=1 length=46
2022-03-07 13:49:54,774 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] WRITE: 48B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 81 2e e6 a0 b9 e6 8d ae e7 94 b5 e5 ad 90 e7 a7 |................|
|00000010| a4 e6 a0 87 e8 af 86 31 32 33 e6 9f a5 e8 af a2 |.......123......|
|00000020| e5 88 b0 e7 9a 84 e6 95 b0 e6 8d ae 6c 69 73 74 |............list|
+--------+-------------------------------------------------+----------------+
2022-03-07 13:49:54,775 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] FLUSH
2022-03-07 13:49:54,775 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] FLUSH
2022-03-07 13:50:21,344 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] RECEIVED: 8B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 88 82 29 56 8a f8 2a bf                         |..)V..*.        |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:50:21,345 - Decoding WebSocket Frame opCode=8
2022-03-07 13:50:21,345 - Decoding WebSocket Frame length=2
2022-03-07 13:50:21,345 - 收到消息：CloseWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 2, cap: 2))
2022-03-07 13:50:21,346 - channelRead0 WebSocketFrame
2022-03-07 13:50:21,346 - Encoding WebSocket Frame opCode=8 length=2
2022-03-07 13:50:21,347 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] WRITE: 4B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 88 02 03 e9                                     |....            |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:50:21,347 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] FLUSH
2022-03-07 13:50:21,347 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50175] CLOSE
2022-03-07 13:50:21,349 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 ! R:/0:0:0:0:0:0:0:1:50175] FLUSH
2022-03-07 13:50:21,349 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 ! R:/0:0:0:0:0:0:0:1:50175] INACTIVE
2022-03-07 13:50:21,350 - 客户端断开连接：[id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 ! R:/0:0:0:0:0:0:0:1:50175]
2022-03-07 13:50:21,350 - [id: 0x37b84b4c, L:/0:0:0:0:0:0:0:1:8081 ! R:/0:0:0:0:0:0:0:1:50175] UNREGISTERED
2022-03-07 13:50:21,373 - [id: 0x7a3cfa82, L:/0:0:0:0:0:0:0:0:8081] RECEIVED: [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391]
2022-03-07 13:50:21,375 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] REGISTERED
2022-03-07 13:50:21,375 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] ACTIVE
2022-03-07 13:50:21,375 - 客户端加入连接：[id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391]
2022-03-07 13:50:21,376 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] RECEIVED: 597B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 47 45 54 20 2f 77 65 62 73 6f 63 6b 65 74 20 48 |GET /websocket H|
|00000010| 54 54 50 2f 31 2e 31 0d 0a 48 6f 73 74 3a 20 6c |TTP/1.1..Host: l|
|00000020| 6f 63 61 6c 68 6f 73 74 3a 38 30 38 31 0d 0a 43 |ocalhost:8081..C|
|00000030| 6f 6e 6e 65 63 74 69 6f 6e 3a 20 55 70 67 72 61 |onnection: Upgra|
|00000040| 64 65 0d 0a 50 72 61 67 6d 61 3a 20 6e 6f 2d 63 |de..Pragma: no-c|
|00000050| 61 63 68 65 0d 0a 43 61 63 68 65 2d 43 6f 6e 74 |ache..Cache-Cont|
|00000060| 72 6f 6c 3a 20 6e 6f 2d 63 61 63 68 65 0d 0a 55 |rol: no-cache..U|
|00000070| 73 65 72 2d 41 67 65 6e 74 3a 20 4d 6f 7a 69 6c |ser-Agent: Mozil|
|00000080| 6c 61 2f 35 2e 30 20 28 57 69 6e 64 6f 77 73 20 |la/5.0 (Windows |
|00000090| 4e 54 20 31 30 2e 30 3b 20 57 69 6e 36 34 3b 20 |NT 10.0; Win64; |
|000000a0| 78 36 34 29 20 41 70 70 6c 65 57 65 62 4b 69 74 |x64) AppleWebKit|
|000000b0| 2f 35 33 37 2e 33 36 20 28 4b 48 54 4d 4c 2c 20 |/537.36 (KHTML, |
|000000c0| 6c 69 6b 65 20 47 65 63 6b 6f 29 20 43 68 72 6f |like Gecko) Chro|
|000000d0| 6d 65 2f 39 39 2e 30 2e 34 38 34 34 2e 35 31 20 |me/99.0.4844.51 |
|000000e0| 53 61 66 61 72 69 2f 35 33 37 2e 33 36 0d 0a 55 |Safari/537.36..U|
|000000f0| 70 67 72 61 64 65 3a 20 77 65 62 73 6f 63 6b 65 |pgrade: websocke|
|00000100| 74 0d 0a 4f 72 69 67 69 6e 3a 20 68 74 74 70 3a |t..Origin: http:|
|00000110| 2f 2f 6c 6f 63 61 6c 68 6f 73 74 3a 36 33 33 34 |//localhost:6334|
|00000120| 32 0d 0a 53 65 63 2d 57 65 62 53 6f 63 6b 65 74 |2..Sec-WebSocket|
|00000130| 2d 56 65 72 73 69 6f 6e 3a 20 31 33 0d 0a 41 63 |-Version: 13..Ac|
|00000140| 63 65 70 74 2d 45 6e 63 6f 64 69 6e 67 3a 20 67 |cept-Encoding: g|
|00000150| 7a 69 70 2c 20 64 65 66 6c 61 74 65 2c 20 62 72 |zip, deflate, br|
|00000160| 0d 0a 41 63 63 65 70 74 2d 4c 61 6e 67 75 61 67 |..Accept-Languag|
|00000170| 65 3a 20 7a 68 2d 43 4e 2c 7a 68 3b 71 3d 30 2e |e: zh-CN,zh;q=0.|
|00000180| 39 0d 0a 43 6f 6f 6b 69 65 3a 20 5f 67 61 3d 47 |9..Cookie: _ga=G|
|00000190| 41 31 2e 31 2e 31 39 39 35 32 35 32 31 35 39 2e |A1.1.1995252159.|
|000001a0| 31 36 34 36 33 38 33 37 35 36 3b 20 49 64 65 61 |1646383756; Idea|
|000001b0| 2d 38 32 39 36 65 37 36 66 3d 35 33 61 65 32 37 |-8296e76f=53ae27|
|000001c0| 66 38 2d 34 30 61 34 2d 34 39 62 30 2d 61 31 66 |f8-40a4-49b0-a1f|
|000001d0| 64 2d 66 36 34 36 64 62 39 66 37 31 35 30 0d 0a |d-f646db9f7150..|
|000001e0| 53 65 63 2d 57 65 62 53 6f 63 6b 65 74 2d 4b 65 |Sec-WebSocket-Ke|
|000001f0| 79 3a 20 41 30 64 52 2f 76 6c 75 4d 4e 4e 68 4a |y: A0dR/vluMNNhJ|
|00000200| 69 61 56 35 63 63 68 45 41 3d 3d 0d 0a 53 65 63 |iaV5cchEA==..Sec|
|00000210| 2d 57 65 62 53 6f 63 6b 65 74 2d 45 78 74 65 6e |-WebSocket-Exten|
|00000220| 73 69 6f 6e 73 3a 20 70 65 72 6d 65 73 73 61 67 |sions: permessag|
|00000230| 65 2d 64 65 66 6c 61 74 65 3b 20 63 6c 69 65 6e |e-deflate; clien|
|00000240| 74 5f 6d 61 78 5f 77 69 6e 64 6f 77 5f 62 69 74 |t_max_window_bit|
|00000250| 73 0d 0a 0d 0a                                  |s....           |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:50:21,377 - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket HTTP/1.1
Host: localhost:8081
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36
Upgrade: websocket
Origin: http://localhost:63342
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Cookie: _ga=GA1.1.1995252159.1646383756; Idea-8296e76f=53ae27f8-40a4-49b0-a1fd-f646db9f7150
Sec-WebSocket-Key: A0dR/vluMNNhJiaV5cchEA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
2022-03-07 13:50:21,378 - channelRead0 FullHttpRequest
2022-03-07 13:50:21,378 - handshaker:io.netty.handler.codec.http.websocketx.WebSocketServerHandshaker13@2dec9542
2022-03-07 13:50:21,378 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] WebSocket version V13 server handshake
2022-03-07 13:50:21,378 - WebSocket version 13 server handshake key: A0dR/vluMNNhJiaV5cchEA==, response: +5o6Flor9+74BSzbumo3QnUxX0g=
2022-03-07 13:50:21,379 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] WRITE: 129B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 54 54 50 2f 31 2e 31 20 31 30 31 20 53 77 69 |HTTP/1.1 101 Swi|
|00000010| 74 63 68 69 6e 67 20 50 72 6f 74 6f 63 6f 6c 73 |tching Protocols|
|00000020| 0d 0a 75 70 67 72 61 64 65 3a 20 77 65 62 73 6f |..upgrade: webso|
|00000030| 63 6b 65 74 0d 0a 63 6f 6e 6e 65 63 74 69 6f 6e |cket..connection|
|00000040| 3a 20 75 70 67 72 61 64 65 0d 0a 73 65 63 2d 77 |: upgrade..sec-w|
|00000050| 65 62 73 6f 63 6b 65 74 2d 61 63 63 65 70 74 3a |ebsocket-accept:|
|00000060| 20 2b 35 6f 36 46 6c 6f 72 39 2b 37 34 42 53 7a | +5o6Flor9+74BSz|
|00000070| 62 75 6d 6f 33 51 6e 55 78 58 30 67 3d 0d 0a 0d |bumo3QnUxX0g=...|
|00000080| 0a                                              |.               |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:50:21,379 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] FLUSH
2022-03-07 13:50:21,379 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] FLUSH
2022-03-07 13:50:21,391 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] RECEIVED: 24B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 81 92 77 27 ae ab 90 b3 1b 4e da b7 49 0c d3 c1 |..w'.....N..I...|
|00000010| 0e 2c 9f 88 28 9a 45 14                         |.,..(.E.        |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:50:21,391 - Decoding WebSocket Frame opCode=1
2022-03-07 13:50:21,392 - Decoding WebSocket Frame length=18
2022-03-07 13:50:21,392 - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 18, cap: 18))
2022-03-07 13:50:21,392 - channelRead0 WebSocketFrame
2022-03-07 13:50:21,392 - 服务端收到：电子秤标识123
2022-03-07 13:50:21,393 - Encoding WebSocket Frame opCode=1 length=46
2022-03-07 13:50:21,393 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] WRITE: 48B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 81 2e e6 a0 b9 e6 8d ae e7 94 b5 e5 ad 90 e7 a7 |................|
|00000010| a4 e6 a0 87 e8 af 86 31 32 33 e6 9f a5 e8 af a2 |.......123......|
|00000020| e5 88 b0 e7 9a 84 e6 95 b0 e6 8d ae 6c 69 73 74 |............list|
+--------+-------------------------------------------------+----------------+
2022-03-07 13:50:21,393 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] FLUSH
2022-03-07 13:50:21,394 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] FLUSH
2022-03-07 13:51:30,555 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:50391] FLUSH
2022-03-07 13:51:30,555 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 ! R:/0:0:0:0:0:0:0:1:50391] INACTIVE
2022-03-07 13:51:30,556 - 客户端断开连接：[id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 ! R:/0:0:0:0:0:0:0:1:50391]
2022-03-07 13:51:30,556 - [id: 0x899393eb, L:/0:0:0:0:0:0:0:1:8081 ! R:/0:0:0:0:0:0:0:1:50391] UNREGISTERED
2022-03-07 13:59:05,134 - [id: 0x7a3cfa82, L:/0:0:0:0:0:0:0:0:8081] RECEIVED: [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100]
2022-03-07 13:59:05,138 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] REGISTERED
2022-03-07 13:59:05,138 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] ACTIVE
2022-03-07 13:59:05,138 - 客户端加入连接：[id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100]
2022-03-07 13:59:05,139 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] RECEIVED: 597B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 47 45 54 20 2f 77 65 62 73 6f 63 6b 65 74 20 48 |GET /websocket H|
|00000010| 54 54 50 2f 31 2e 31 0d 0a 48 6f 73 74 3a 20 6c |TTP/1.1..Host: l|
|00000020| 6f 63 61 6c 68 6f 73 74 3a 38 30 38 31 0d 0a 43 |ocalhost:8081..C|
|00000030| 6f 6e 6e 65 63 74 69 6f 6e 3a 20 55 70 67 72 61 |onnection: Upgra|
|00000040| 64 65 0d 0a 50 72 61 67 6d 61 3a 20 6e 6f 2d 63 |de..Pragma: no-c|
|00000050| 61 63 68 65 0d 0a 43 61 63 68 65 2d 43 6f 6e 74 |ache..Cache-Cont|
|00000060| 72 6f 6c 3a 20 6e 6f 2d 63 61 63 68 65 0d 0a 55 |rol: no-cache..U|
|00000070| 73 65 72 2d 41 67 65 6e 74 3a 20 4d 6f 7a 69 6c |ser-Agent: Mozil|
|00000080| 6c 61 2f 35 2e 30 20 28 57 69 6e 64 6f 77 73 20 |la/5.0 (Windows |
|00000090| 4e 54 20 31 30 2e 30 3b 20 57 69 6e 36 34 3b 20 |NT 10.0; Win64; |
|000000a0| 78 36 34 29 20 41 70 70 6c 65 57 65 62 4b 69 74 |x64) AppleWebKit|
|000000b0| 2f 35 33 37 2e 33 36 20 28 4b 48 54 4d 4c 2c 20 |/537.36 (KHTML, |
|000000c0| 6c 69 6b 65 20 47 65 63 6b 6f 29 20 43 68 72 6f |like Gecko) Chro|
|000000d0| 6d 65 2f 39 39 2e 30 2e 34 38 34 34 2e 35 31 20 |me/99.0.4844.51 |
|000000e0| 53 61 66 61 72 69 2f 35 33 37 2e 33 36 0d 0a 55 |Safari/537.36..U|
|000000f0| 70 67 72 61 64 65 3a 20 77 65 62 73 6f 63 6b 65 |pgrade: websocke|
|00000100| 74 0d 0a 4f 72 69 67 69 6e 3a 20 68 74 74 70 3a |t..Origin: http:|
|00000110| 2f 2f 6c 6f 63 61 6c 68 6f 73 74 3a 36 33 33 34 |//localhost:6334|
|00000120| 32 0d 0a 53 65 63 2d 57 65 62 53 6f 63 6b 65 74 |2..Sec-WebSocket|
|00000130| 2d 56 65 72 73 69 6f 6e 3a 20 31 33 0d 0a 41 63 |-Version: 13..Ac|
|00000140| 63 65 70 74 2d 45 6e 63 6f 64 69 6e 67 3a 20 67 |cept-Encoding: g|
|00000150| 7a 69 70 2c 20 64 65 66 6c 61 74 65 2c 20 62 72 |zip, deflate, br|
|00000160| 0d 0a 41 63 63 65 70 74 2d 4c 61 6e 67 75 61 67 |..Accept-Languag|
|00000170| 65 3a 20 7a 68 2d 43 4e 2c 7a 68 3b 71 3d 30 2e |e: zh-CN,zh;q=0.|
|00000180| 39 0d 0a 43 6f 6f 6b 69 65 3a 20 5f 67 61 3d 47 |9..Cookie: _ga=G|
|00000190| 41 31 2e 31 2e 31 39 39 35 32 35 32 31 35 39 2e |A1.1.1995252159.|
|000001a0| 31 36 34 36 33 38 33 37 35 36 3b 20 49 64 65 61 |1646383756; Idea|
|000001b0| 2d 38 32 39 36 65 37 36 66 3d 35 33 61 65 32 37 |-8296e76f=53ae27|
|000001c0| 66 38 2d 34 30 61 34 2d 34 39 62 30 2d 61 31 66 |f8-40a4-49b0-a1f|
|000001d0| 64 2d 66 36 34 36 64 62 39 66 37 31 35 30 0d 0a |d-f646db9f7150..|
|000001e0| 53 65 63 2d 57 65 62 53 6f 63 6b 65 74 2d 4b 65 |Sec-WebSocket-Ke|
|000001f0| 79 3a 20 36 45 77 38 4d 4b 66 4b 39 42 6c 41 54 |y: 6Ew8MKfK9BlAT|
|00000200| 69 74 77 6c 68 48 41 63 67 3d 3d 0d 0a 53 65 63 |itwlhHAcg==..Sec|
|00000210| 2d 57 65 62 53 6f 63 6b 65 74 2d 45 78 74 65 6e |-WebSocket-Exten|
|00000220| 73 69 6f 6e 73 3a 20 70 65 72 6d 65 73 73 61 67 |sions: permessag|
|00000230| 65 2d 64 65 66 6c 61 74 65 3b 20 63 6c 69 65 6e |e-deflate; clien|
|00000240| 74 5f 6d 61 78 5f 77 69 6e 64 6f 77 5f 62 69 74 |t_max_window_bit|
|00000250| 73 0d 0a 0d 0a                                  |s....           |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:59:05,140 - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket HTTP/1.1
Host: localhost:8081
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36
Upgrade: websocket
Origin: http://localhost:63342
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Cookie: _ga=GA1.1.1995252159.1646383756; Idea-8296e76f=53ae27f8-40a4-49b0-a1fd-f646db9f7150
Sec-WebSocket-Key: 6Ew8MKfK9BlATitwlhHAcg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
2022-03-07 13:59:05,143 - channelRead0 FullHttpRequest
2022-03-07 13:59:05,143 - handshaker:io.netty.handler.codec.http.websocketx.WebSocketServerHandshaker13@16d2b60f
2022-03-07 13:59:05,144 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] WebSocket version V13 server handshake
2022-03-07 13:59:05,144 - WebSocket version 13 server handshake key: 6Ew8MKfK9BlATitwlhHAcg==, response: po0kwEgbA/RLX2xOUlDg/cuqP3c=
2022-03-07 13:59:05,145 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] WRITE: 129B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 54 54 50 2f 31 2e 31 20 31 30 31 20 53 77 69 |HTTP/1.1 101 Swi|
|00000010| 74 63 68 69 6e 67 20 50 72 6f 74 6f 63 6f 6c 73 |tching Protocols|
|00000020| 0d 0a 75 70 67 72 61 64 65 3a 20 77 65 62 73 6f |..upgrade: webso|
|00000030| 63 6b 65 74 0d 0a 63 6f 6e 6e 65 63 74 69 6f 6e |cket..connection|
|00000040| 3a 20 75 70 67 72 61 64 65 0d 0a 73 65 63 2d 77 |: upgrade..sec-w|
|00000050| 65 62 73 6f 63 6b 65 74 2d 61 63 63 65 70 74 3a |ebsocket-accept:|
|00000060| 20 70 6f 30 6b 77 45 67 62 41 2f 52 4c 58 32 78 | po0kwEgbA/RLX2x|
|00000070| 4f 55 6c 44 67 2f 63 75 71 50 33 63 3d 0d 0a 0d |OUlDg/cuqP3c=...|
|00000080| 0a                                              |.               |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:59:05,145 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] FLUSH
2022-03-07 13:59:05,146 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] FLUSH
2022-03-07 13:59:05,173 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] RECEIVED: 24B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 81 92 ed 31 69 e8 0a a5 dc 0d 40 a1 8e 4f 49 d7 |...1i.....@..OI.|
|00000010| c9 6f 05 9e ef d9 df 02                         |.o......        |
+--------+-------------------------------------------------+----------------+
2022-03-07 13:59:05,173 - Decoding WebSocket Frame opCode=1
2022-03-07 13:59:05,174 - Decoding WebSocket Frame length=18
2022-03-07 13:59:05,174 - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 18, cap: 18))
2022-03-07 13:59:05,174 - channelRead0 WebSocketFrame
2022-03-07 13:59:05,174 - 服务端收到：电子秤标识123
2022-03-07 13:59:05,175 - Encoding WebSocket Frame opCode=1 length=46
2022-03-07 13:59:05,175 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] WRITE: 48B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 81 2e e6 a0 b9 e6 8d ae e7 94 b5 e5 ad 90 e7 a7 |................|
|00000010| a4 e6 a0 87 e8 af 86 31 32 33 e6 9f a5 e8 af a2 |.......123......|
|00000020| e5 88 b0 e7 9a 84 e6 95 b0 e6 8d ae 6c 69 73 74 |............list|
+--------+-------------------------------------------------+----------------+
2022-03-07 13:59:05,175 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] FLUSH
2022-03-07 13:59:05,175 - [id: 0xbe2364bf, L:/0:0:0:0:0:0:0:1:8081 - R:/0:0:0:0:0:0:0:1:51100] FLUSH
